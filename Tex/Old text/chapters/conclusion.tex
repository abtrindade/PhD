Here we present the conclusions of our research and the results obtained during the Doctoral process. In particular, we described two scientific methods (or techniques) from computer science, which were used to tackle issues in PV systems, such as validation over time and sizing optimization. A list of future contributions concludes the study, although this list might foster the creation of a research group to investigate model checking techniques for electrical systems and not only renewable sources as has been the focus here.

%----------------------------------------------
\section{Main Contributions}
%----------------------------------------------

We split our contributions into two, each one concerning the scientific methods proposed with the use of model checking for solar PV systems, and the tools created to validate it.

The first contribution was presented in~\autoref{chap:automatedverification}, we described and evaluated an automated verification method of validating a given stand-alone PV system. Our method, using model checking, can perform a size check and verify, over time, whether a PV system meets electrical requirements. There are various possible ways to perform that validation, such as testing, laboratory measuring, or even simulation. However, we developed an algorithm and a tool using model checking that is feasible and effective, although our technique does not replace the others. Our results were supported by case studies, by data gathered from the field, and by interviews with PV owners.

We analyzed five case studies of real PV systems deployed in five different sites, ranging from $975$ W to $1,300$ W (inverter specification), and the results of three state-of-the-art verification engines (ESBMC, CBMC, and CPAchecker).The verification method with ESBMC was faster than the simulation method. We validate the overall results by the sized systems deployed in the field.

Moreover, considering that HOMER Pro always performs size optimization during the simulation process, the user always has to ``adopt'' this simulation tool in order to avoid the optimization and to validate the PV system as inputted in it. That adaptation is not necessary using our approach, because optimization is a method separate from verification. Besides, only the proposed method of automated verification was able to validate a system with a specific battery autonomy, since HOMER Pro does not have this feature, i.e. the user can not specify battery autonomy.

%In a nutshell, our proposed PV system validation method, who check the size of inputted PV system, and verifies it over the time, was feasible and effective, supported by a algorithm written to implement the method, by a comparative with a commercial simulation tool, and by real data collect at the field.
%
In the comparison among verification engines, ESBMC with the SMT solver Z3 executed in the ``incremental SMT'' configuration presented a better performance than CBMC, used less RAM than CBMC and CPAchecker as expected and explained in Section~\ref{sec:ESBMC}. All our experimental results are sound since the PV owners and the monitoring system validated the possible flaws that the system could present in the field.
%New tests must be performed, in an improved setup (i.e., better computing performance) with the goal of obtaining verification results in shorter times than the ones obtained in this study. 

Furthermore, we also have contributions from the method described in~\autoref{chap:automatedsynthesis}, where we describe and evaluate an automated synthesis method of obtaining the optimal size of a PV system using software model checking techniques. The focus was on the synthesis method of obtaining the optimal solution based on formal methods, which can improve coverage of the design-space more effectively than simulation tools. Our thesis produced methodological research which innovated with regard to the first use of automated synthesis for optimal sizing of solar PV systems.

We proposed a variant of the CEGIS synthesis process, working with just one feasible solution from the {\sc Synthesize} phase and refinement from the iterative search from the {\sc Verify} phase. Using this approach, we obtain the optimization of stand-alone PV systems, arriving at the best compromise between power reliability and system cost analysis. Our algorithm that implements this method uses a database of commercially available equipment, including the price. Furthermore, in order to validate our method, we conducted seven case studies of PV systems on two different sites in the State of Amazonas, Brazil, ranging from $253$\,W to a $1,586$\,W peak; and three state-of-the-art verification engines were considered (ESBMC, CBMC, and CPAchecker). In addition, we again used the specialized off-the-shelf simulation tool (HOMER Pro) to compare the results. In terms of performance and best results, ESBMC was the most successful and used for the comparison with the simulation tool.

In summary, our synthesis proposal is capable of presenting a solution which is far more detailed and closer to commercial conditions than the solution presented by HOMER Pro. In particular, our method can provide all the details of every component of a PV system solution, with complete electrical details from the manufacturer data sheet, including the component model, nominal current, and voltage. We also cover the charge controller, which is unavailable in HOMER Pro. Note that our automated synthesis tool took longer to find the optimal solution than HOMER Pro. However, the solution presented is sound and complete; it also provides a list of equipment that can be bought direct from the manufacturer.

%In summary, our synthesis proposal is capable of presenting a solution, which is far detailed and close to the commercial reality than the solution presented by HOMER Pro. In particular, our method can provide all the details of every component of a PV system solution, with complete electrical details from datasheet of manufacturers, including the component model, nominal current, and voltage. We also cover the charge controller, which is unavailable in HOMER Pro. Note that our automated synthesis tool took longer to find the optimal solution than HOMER Pro; however, the presented solution is sound and complete; it also provides a list of equipment to be bought from manufacturers. %Moreover, we extended the CEGIS synthesis method and implemented this extension within our proposed formal synthesis tool, which allows the optimization of stand-alone PV systems with the best compromise between power reliability and system cost analysis.

%----------------------------------------------
\section{Areas for Further Research}
%----------------------------------------------

As the focus here was stand-alone solar PV systems, one promising area for further research will include analysis of other types of renewable energy, even hybrid  in order to allow the method to verify and obtain optimal sizing of typical rural electrification systems.

In the area of automated sizing, we plan to improve the power reliability analysis, to address the restriction to only allow automated synthesis of riverside communities in the State of Amazonas (Brazil), and to validate some cases with deployed PV systems in isolated communities.

We plan to develop the code of a general-purpose simulation tool, like MATLAB, for example, using the same mathematical model employed in our two methods. A broader comparison can thus be made in order to cover all the possibilities of validation or optimization of  solar PV systems.

One future long-term direction is to foster the creation of a research group in automated verification and synthesis applied to electrical systems.

%----------------------------------------------
\section{Concluding Remarks}
%----------------------------------------------

The automated verification and automated synthesis methods demonstrate their effectiveness and potential for use in stand-alone solar PV systems. Although clearly there are still issues to address in order to improve the tools, notably performance and the human-computer interaction.

The licensing and use of tools mentioned in this thesis is different for HOMER Pro, which is available only for use with Microsoft Windows, and whose standard annual subscription is set at US\$ $504.00$~\cite{HOMER}. The verifiers, CPAchecker, ESBMC and CBMC, and their solvers, are based on open-source software licenses which usually allow the users to use, modify, and distribute licensed products freely. Permission is granted, free of charge, to use this software for evaluation and research purposes (which is a great advantage when compared to commercial tools).

The tools we have described here in no way similar to any other prior work.  We may conclude that our research is original and expands the boundaries of knowledge. In particular, we have proposed cutting-edge computer science methodologies to solve typical electrical engineering problems and to improve the designing of systems.

Moreover, last but not least, one of the most important aspects of Ph.D. work is that the student-researcher will be able to conduct this line of research in the future. In that direction, we can say that with the methods proposed here,  formulated to tackle issues in the energy sector, there exists a vast field of possible future applications and developments, using different renewable sources. We can mention here biomass, wind, or even hybrid generation, with different mathematical models and requirements; and including smart grids, or electrical systems in general. Little research has been done on this until now, but the scenario is auspicious.
%
%Moreover, last, but not least significant to report, one of the great things about Ph.D. is that the student will be able to conduct its research in the future. In that direction, we can say that with the methods proposed here and targeted to tackle the energy sector, there exists a vast field of future applications and developments, using different renewable sources. We can mention here biomass, wind, or even hybrid generation, with different mathematical models and requirements; and including smart grids, or electrical systems in general. Few research has been done until now, and the scenario is auspicious to do it.
%besides the fact that the goal of a PhD is to contribute to the body of human research,